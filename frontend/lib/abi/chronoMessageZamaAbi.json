{
  "_format": "hh-sol-artifact-1",
  "contractName": "ChronoMessageZama",
  "sourceName": "contracts/ChronoMessageZama.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "messageId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "reader",
          "type": "address"
        }
      ],
      "name": "MessageRead",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "messageId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "sender",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "receiver",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "unlockTime",
          "type": "uint256"
        }
      ],
      "name": "MessageSent",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "messageId",
          "type": "uint256"
        }
      ],
      "name": "getMessageInfo",
      "outputs": [
        {
          "internalType": "address",
          "name": "sender",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "receiver",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "unlockTime",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "exists",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "messageId",
          "type": "uint256"
        }
      ],
      "name": "getMessageMetadata",
      "outputs": [
        {
          "internalType": "address",
          "name": "sender",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "receiver",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "unlockTime",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isUnlocked",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getReceivedMessages",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "messageIds",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getSentMessages",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "messageIds",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getUserMessageCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "messageId",
          "type": "uint256"
        }
      ],
      "name": "isMessageLocked",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "messageCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "protocolId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "messageId",
          "type": "uint256"
        }
      ],
      "name": "readMessage",
      "outputs": [
        {
          "internalType": "euint256",
          "name": "content",
          "type": "bytes32"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "receiver",
          "type": "address"
        },
        {
          "internalType": "externalEuint256",
          "name": "encryptedContent",
          "type": "bytes32"
        },
        {
          "internalType": "bytes",
          "name": "inputProof",
          "type": "bytes"
        },
        {
          "internalType": "uint256",
          "name": "unlockTime",
          "type": "uint256"
        }
      ],
      "name": "sendMessage",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "messageId",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b5061018c6100b0604080516080810182526000808252602082018190529181018290526060810191909152506040805160808101825273687820221192c5b662b25367f70076a37bc79b6c815273848b0066793bcc60346da1f49049357399b8d595602082015273a02cda4ca3a71d7c46997716f4283aa851c2881291810191909152731364cbbf2cdf5032c47d8226a6f6fbd2afcdacac606082015290565b80517f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e464970080546001600160a01b03199081166001600160a01b039384161790915560208301517f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497018054831691841691909117905560408301517f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497028054831691841691909117905560608301517f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497038054909216921691909117905550565b610c5a8061019b6000396000f3fe608060405234801561001057600080fd5b506004361061009e5760003560e01c80636be4f74d116100665780636be4f74d1461015b5780638602def61461016e578063a7d2705614610181578063b508dcf614610194578063da1f12ab146101b757600080fd5b80632b659bfb146100a35780633dbcc8d1146100df5780633e8e5c73146100e85780633f24cbe91461012857806350b4d1fc1461013b575b600080fd5b6100cc6100b1366004610a26565b6001600160a01b031660009081526001602052604090205490565b6040519081526020015b60405180910390f35b6100cc60035481565b6100fb6100f6366004610a41565b6101bf565b604080516001600160a01b03958616815294909316602085015291830152151560608201526080016100d6565b6100cc610136366004610a5a565b610221565b61014e610149366004610a26565b6104af565b6040516100d69190610ae9565b6100fb610169366004610a41565b610566565b61014e61017c366004610a26565b6105c6565b6100cc61018f366004610a41565b610676565b6101a76101a2366004610a41565b6107b8565b60405190151581526020016100d6565b6127116100cc565b600081815260208190526040812060048101548291829182919060ff166101f45760008060008094509450945094505061021a565b805460018201546002909201546001600160a01b03918216965091169350915050428111155b9193509193565b60006001600160a01b0386166102715760405162461bcd60e51b815260206004820152601060248201526f24b73b30b634b2103932b1b2b4bb32b960811b60448201526064015b60405180910390fd5b336001600160a01b038716036102c95760405162461bcd60e51b815260206004820152601760248201527f53656c66206d6573736167696e672064697361626c65640000000000000000006044820152606401610268565b4282116103105760405162461bcd60e51b8152602060048201526015602482015274556e6c6f636b206d7573742062652066757475726560581b6044820152606401610268565b60006103528686868080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061081a92505050565b6003805493509091508290600061036883610b2d565b90915550506040805160a081018252338082526001600160a01b038a811660208085018281528587018a81526060870189815260016080890181815260008d81528087528b81209a518b546001600160a01b0319908116918b16919091178c5595518b8401805490971699169890981790945591516002808a01919091559051600389015591516004909701805460ff1916971515979097179096559383528481528583208054808701825590845281842001889055908252918252928320805492830181558352909120018290556104408161082f565b5061044b813361083f565b50610456818861083f565b50866001600160a01b0316336001600160a01b0316837f048fe7fb7f676173adbf5a90abbccd6ac9039b2daa74c81dfa961668b5b9305b8660405161049d91815260200190565b60405180910390a45095945050505050565b6001600160a01b038116600090815260026020526040902080546060919067ffffffffffffffff8111156104e5576104e5610b54565b60405190808252806020026020018201604052801561050e578160200160208202803683370190505b50915060005b815481101561055f5781818154811061052f5761052f610b6a565b906000526020600020015483828151811061054c5761054c610b6a565b6020908102919091010152600101610514565b5050919050565b600081815260208190526040812060048101548291829182919060ff1661059b5760008060008094509450945094505061021a565b80546001808301546002909301546001600160a01b0392831699929093169750919550909350915050565b6001600160a01b038116600090815260016020526040902080546060919067ffffffffffffffff8111156105fc576105fc610b54565b604051908082528060200260200182016040528015610625578160200160208202803683370190505b50915060005b815481101561055f5781818154811061064657610646610b6a565b906000526020600020015483828151811061066357610663610b6a565b602090810291909101015260010161062b565b6000818152602081905260408120600481015460ff166106cc5760405162461bcd60e51b815260206004820152601160248201527013595cdcd859d9481b9bdd08199bdd5b99607a1b6044820152606401610268565b80600201544210156107115760405162461bcd60e51b815260206004820152600e60248201526d13595cdcd859d9481b1bd8dad95960921b6044820152606401610268565b80546001600160a01b0316331480610735575060018101546001600160a01b031633145b6107725760405162461bcd60e51b815260206004820152600e60248201526d139bdd08185d5d1a1bdc9a5cd95960921b6044820152606401610268565b61078081600301543361083f565b50604051339084907f0e717203d5558319840e69b0f2050a456ab8ee5ef0fa53dc522de9e70d1b1ba290600090a36003015492915050565b6000818152602081905260408120600481015460ff1661080e5760405162461bcd60e51b815260206004820152601160248201527013595cdcd859d9481b9bdd08199bdd5b99607a1b6044820152606401610268565b60020154421092915050565b600061082883836005610852565b9392505050565b600061083b823061097b565b5090565b600061084b838361097b565b5090919050565b7f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497015460405163196d0b9b60e01b81526000917f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e4649700916001600160a01b039091169063196d0b9b906108cc908890339089908990600401610b80565b6020604051808303816000875af11580156108eb573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061090f9190610c0b565b8154604051630f8e573b60e21b8152600481018390523360248201529193506001600160a01b031690633e395cec90604401600060405180830381600087803b15801561095b57600080fd5b505af115801561096f573d6000803e3d6000fd5b50505050509392505050565b60007f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497008054604051635ca4b5b160e11b8152600481018690526001600160a01b03858116602483015292935091169063b9496b6290604401600060405180830381600087803b1580156109ed57600080fd5b505af1158015610a01573d6000803e3d6000fd5b50505050505050565b80356001600160a01b0381168114610a2157600080fd5b919050565b600060208284031215610a3857600080fd5b61082882610a0a565b600060208284031215610a5357600080fd5b5035919050565b600080600080600060808688031215610a7257600080fd5b610a7b86610a0a565b945060208601359350604086013567ffffffffffffffff80821115610a9f57600080fd5b818801915088601f830112610ab357600080fd5b813581811115610ac257600080fd5b896020828501011115610ad457600080fd5b96999598505060200195606001359392505050565b6020808252825182820181905260009190848201906040850190845b81811015610b2157835183529284019291840191600101610b05565b50909695505050505050565b600060018201610b4d57634e487b7160e01b600052601160045260246000fd5b5060010190565b634e487b7160e01b600052604160045260246000fd5b634e487b7160e01b600052603260045260246000fd5b8481526000602060018060a01b038616602084015260806040840152845180608085015260005b81811015610bc35786810183015185820160a001528201610ba7565b50600060a0828601015260a0601f19601f8301168501019250505060548310610bfc57634e487b7160e01b600052602160045260246000fd5b82606083015295945050505050565b600060208284031215610c1d57600080fd5b505191905056fea2646970667358221220defb91da99d5493d28fe24fdf07ec25a776a05f7973d1128119da6c9d98c8ca964736f6c63430008180033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061009e5760003560e01c80636be4f74d116100665780636be4f74d1461015b5780638602def61461016e578063a7d2705614610181578063b508dcf614610194578063da1f12ab146101b757600080fd5b80632b659bfb146100a35780633dbcc8d1146100df5780633e8e5c73146100e85780633f24cbe91461012857806350b4d1fc1461013b575b600080fd5b6100cc6100b1366004610a26565b6001600160a01b031660009081526001602052604090205490565b6040519081526020015b60405180910390f35b6100cc60035481565b6100fb6100f6366004610a41565b6101bf565b604080516001600160a01b03958616815294909316602085015291830152151560608201526080016100d6565b6100cc610136366004610a5a565b610221565b61014e610149366004610a26565b6104af565b6040516100d69190610ae9565b6100fb610169366004610a41565b610566565b61014e61017c366004610a26565b6105c6565b6100cc61018f366004610a41565b610676565b6101a76101a2366004610a41565b6107b8565b60405190151581526020016100d6565b6127116100cc565b600081815260208190526040812060048101548291829182919060ff166101f45760008060008094509450945094505061021a565b805460018201546002909201546001600160a01b03918216965091169350915050428111155b9193509193565b60006001600160a01b0386166102715760405162461bcd60e51b815260206004820152601060248201526f24b73b30b634b2103932b1b2b4bb32b960811b60448201526064015b60405180910390fd5b336001600160a01b038716036102c95760405162461bcd60e51b815260206004820152601760248201527f53656c66206d6573736167696e672064697361626c65640000000000000000006044820152606401610268565b4282116103105760405162461bcd60e51b8152602060048201526015602482015274556e6c6f636b206d7573742062652066757475726560581b6044820152606401610268565b60006103528686868080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061081a92505050565b6003805493509091508290600061036883610b2d565b90915550506040805160a081018252338082526001600160a01b038a811660208085018281528587018a81526060870189815260016080890181815260008d81528087528b81209a518b546001600160a01b0319908116918b16919091178c5595518b8401805490971699169890981790945591516002808a01919091559051600389015591516004909701805460ff1916971515979097179096559383528481528583208054808701825590845281842001889055908252918252928320805492830181558352909120018290556104408161082f565b5061044b813361083f565b50610456818861083f565b50866001600160a01b0316336001600160a01b0316837f048fe7fb7f676173adbf5a90abbccd6ac9039b2daa74c81dfa961668b5b9305b8660405161049d91815260200190565b60405180910390a45095945050505050565b6001600160a01b038116600090815260026020526040902080546060919067ffffffffffffffff8111156104e5576104e5610b54565b60405190808252806020026020018201604052801561050e578160200160208202803683370190505b50915060005b815481101561055f5781818154811061052f5761052f610b6a565b906000526020600020015483828151811061054c5761054c610b6a565b6020908102919091010152600101610514565b5050919050565b600081815260208190526040812060048101548291829182919060ff1661059b5760008060008094509450945094505061021a565b80546001808301546002909301546001600160a01b0392831699929093169750919550909350915050565b6001600160a01b038116600090815260016020526040902080546060919067ffffffffffffffff8111156105fc576105fc610b54565b604051908082528060200260200182016040528015610625578160200160208202803683370190505b50915060005b815481101561055f5781818154811061064657610646610b6a565b906000526020600020015483828151811061066357610663610b6a565b602090810291909101015260010161062b565b6000818152602081905260408120600481015460ff166106cc5760405162461bcd60e51b815260206004820152601160248201527013595cdcd859d9481b9bdd08199bdd5b99607a1b6044820152606401610268565b80600201544210156107115760405162461bcd60e51b815260206004820152600e60248201526d13595cdcd859d9481b1bd8dad95960921b6044820152606401610268565b80546001600160a01b0316331480610735575060018101546001600160a01b031633145b6107725760405162461bcd60e51b815260206004820152600e60248201526d139bdd08185d5d1a1bdc9a5cd95960921b6044820152606401610268565b61078081600301543361083f565b50604051339084907f0e717203d5558319840e69b0f2050a456ab8ee5ef0fa53dc522de9e70d1b1ba290600090a36003015492915050565b6000818152602081905260408120600481015460ff1661080e5760405162461bcd60e51b815260206004820152601160248201527013595cdcd859d9481b9bdd08199bdd5b99607a1b6044820152606401610268565b60020154421092915050565b600061082883836005610852565b9392505050565b600061083b823061097b565b5090565b600061084b838361097b565b5090919050565b7f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497015460405163196d0b9b60e01b81526000917f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e4649700916001600160a01b039091169063196d0b9b906108cc908890339089908990600401610b80565b6020604051808303816000875af11580156108eb573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061090f9190610c0b565b8154604051630f8e573b60e21b8152600481018390523360248201529193506001600160a01b031690633e395cec90604401600060405180830381600087803b15801561095b57600080fd5b505af115801561096f573d6000803e3d6000fd5b50505050509392505050565b60007f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497008054604051635ca4b5b160e11b8152600481018690526001600160a01b03858116602483015292935091169063b9496b6290604401600060405180830381600087803b1580156109ed57600080fd5b505af1158015610a01573d6000803e3d6000fd5b50505050505050565b80356001600160a01b0381168114610a2157600080fd5b919050565b600060208284031215610a3857600080fd5b61082882610a0a565b600060208284031215610a5357600080fd5b5035919050565b600080600080600060808688031215610a7257600080fd5b610a7b86610a0a565b945060208601359350604086013567ffffffffffffffff80821115610a9f57600080fd5b818801915088601f830112610ab357600080fd5b813581811115610ac257600080fd5b896020828501011115610ad457600080fd5b96999598505060200195606001359392505050565b6020808252825182820181905260009190848201906040850190845b81811015610b2157835183529284019291840191600101610b05565b50909695505050505050565b600060018201610b4d57634e487b7160e01b600052601160045260246000fd5b5060010190565b634e487b7160e01b600052604160045260246000fd5b634e487b7160e01b600052603260045260246000fd5b8481526000602060018060a01b038616602084015260806040840152845180608085015260005b81811015610bc35786810183015185820160a001528201610ba7565b50600060a0828601015260a0601f19601f8301168501019250505060548310610bfc57634e487b7160e01b600052602160045260246000fd5b82606083015295945050505050565b600060208284031215610c1d57600080fd5b505191905056fea2646970667358221220defb91da99d5493d28fe24fdf07ec25a776a05f7973d1128119da6c9d98c8ca964736f6c63430008180033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
